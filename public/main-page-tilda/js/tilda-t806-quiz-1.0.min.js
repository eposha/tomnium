function t806__init(t){t_onFuncLoad("tvote__init",function(){tvote__init(t)});var e=document.querySelector("#rec"+t),r=e.querySelector(".t806__test"),o=e.querySelectorAll(".t806__answers"),n=e.querySelectorAll(".t806__result-wrap"),l=e.querySelector(".t806__social-btn-vk"),c=e.querySelector(".t806__social-btn-fb"),a=e.querySelector(".t806__social-btn-twitter"),s=e.querySelector(".t806__start-title"),i=[],_=[],u=s?s.textContent:"",p=window.location.href;r.classList.add("t806__counter"),r.setAttribute("data-count",0),Array.prototype.forEach.call(n,function(t){t=t.querySelector("img");!t||""!==(t=t.getAttribute("src"))&&_.push(t)}),1==_.length&&Array.prototype.forEach.call(n,function(t){var e=t.querySelector("img"),r=t.querySelector(".t806__result-desc"),t=t.querySelectorAll(".t806__result-count, .t806__result-variant");e&&e.setAttribute("src",_[0]),r.classList.remove("t806__result-desc_withoutimg"),Array.prototype.forEach.call(t,function(t){t.style.color="#ffffff"})}),Array.prototype.forEach.call(o,function(t){var e=t.getAttribute("data-right-answer")||"";i.push(e.trim()),t.removeAttribute("data-right-answer")}),t806__changeRadio(t,i),t806__changeTestInput(t),t806__clickStartButton(t),t806__clickCheckButton(t,i),t806__clickNextButton(t),t806__clickResultButton(t),t806__clickRestartButton(t),l&&l.addEventListener("click",function(){t806_shareVK(t,u,p)}),c&&c.addEventListener("click",function(){t806_shareFB(t,u,p)}),a&&a.addEventListener("click",function(){t806_shareTwitter(t,p)}),t806__clearFormOnBackClick(e)}function t806__showNumber(t,r){var e=document.querySelector("#rec"+t),t=e.querySelectorAll(".t806__number"),o=e.querySelectorAll(".t806__question");Array.prototype.forEach.call(t,function(t){var e="<span>"+r+"</span><span>/</span><span>"+o.length+"</span>";t.innerHTML=e})}function t806__clickStartButton(r){var o=document.querySelector("#rec"+r);o.querySelector(".t806__start-btn").addEventListener("click",function(t){var e=this.closest(".t806__start");e.style.display="none",e.nextElementSibling.style.display="block",t806__showNumber(r,1),t806_fixcontentheight(r),t806_scrollToTop(o),t806__runLazyLoad(),t.preventDefault()})}function t806__runLazyLoad(){"y"!==window.lazy&&"yes"!==document.getElementById("allrecords").getAttribute("data-tilda-lazy")||t_onFuncLoad("t_lazyload_update",function(){t_lazyload_update()})}function t806__changeRadio(_,u){var p=document.querySelector("#rec"+_),t=p.querySelectorAll('.t806__input[type="radio"]'),e=p.querySelectorAll(".t806__question");0!==e.length&&(e[e.length-1].classList.add("t806__lastquestion"),Array.prototype.forEach.call(t,function(t){t.addEventListener("change",function(){var t=p.querySelector(".t806__counter"),e=t.getAttribute("data-count"),r=this.closest(".t806__question"),o=this.closest(".t806__answers"),n=r.querySelectorAll(".t806__input"),l=o.nextElementSibling,c=l.querySelector(".t806__btn_result"),a=l.querySelector(".t806__btn_next"),s=o.querySelectorAll(".t806__answer .t-vote__btn-res"),i=(i=u[r.getAttribute("data-question-num")-1]).split(",")[0],e=t.getAttribute("data-count");"radio"===this.getAttribute("type")&&(l=this.value,o.classList.add("t806__answers_answered"),(r.classList.contains("t806__lastquestion")?c:a).classList.add("t806__btn_show"),Array.prototype.forEach.call(n,function(t){t.setAttribute("disabled",!0)}),+l==+i&&(e++,t.setAttribute("data-count",e)),e=r.querySelector(".t806__input:checked"),Number(e.value)!==Number(i)&&e.closest(".t806__answer").classList.add("t806__answer_wrong"),e.parentNode.nextElementSibling.style.display="block",(i=r.querySelector('.t806__input[value="'+i+'"]'))&&i.closest(".t806__answer").classList.add("t806__answer_correct"),Array.prototype.forEach.call(s,function(t){t.classList.add("t806__answer-vote_show")}),(e=e.closest(".t806__answer_correct"))&&e.classList.add("t806__answer_withoutopacity"),Array.prototype.forEach.call(n,function(t){t=t.closest(".t806__answer_correct");t&&t.classList.add("t806__answer_withoutopacity")})),t806_fixcontentheight(_)})}))}function t806__changeTestInput(o){var t=document.querySelector("#rec"+o),e=t.querySelectorAll('.t806__input[type="checkbox"]'),r=t.querySelectorAll(".t806__answers"),t=t.querySelectorAll(".t806__question");if(0!==t.length){var t=t[t.length-1],n=[];return Array.prototype.forEach.call(r,function(t){t.setAttribute("data-test-checked","")}),t.classList.add("t806__lastquestion"),Array.prototype.forEach.call(e,function(t){t.addEventListener("change",function(){var t=this.closest(".t806__answers"),e=this.value,r=this.getAttribute("type");"checkbox"===r&&t.nextElementSibling.querySelector(".t806__btn_check").classList.add("t806__btn_show"),"checkbox"===r&&this.checked&&-1===n.indexOf(e)&&n.push(e),"checkbox"!==r||this.checked||n.splice(n.indexOf(e),1),t.setAttribute("data-test-checked",n.join(",")),t806_fixcontentheight(o)})}),n}}function t806__clickCheckButton(d,h){var f=document.querySelector("#rec"+d),t=f.querySelectorAll(".t806__btn_check"),w=[];Array.prototype.forEach.call(t,function(t){t.addEventListener("click",function(t){var e,r=f.querySelector(".t806__counter"),o=this.closest(".t806__question"),n=o.querySelectorAll(".t806__input"),l=o.querySelector(".t806__answers"),c=this.closest(".t806__btn-wrapper");Array.prototype.forEach.call(c.parentNode.children,function(t){t.classList.contains("t806__answers")&&(e=t)});for(var a=o.querySelector(".t806__btn_result"),s=o.querySelector(".t806__btn_next"),i=e.querySelectorAll(".t806__answer .t-vote__btn-res"),c=r.getAttribute("data-count"),_=[],u=h[o.getAttribute("data-question-num")-1].split(","),p=l.getAttribute("data-test-checked").split(","),y=0;y<u.length;y++)_.push(u[y]);Array.prototype.forEach.call(n,function(t){t.setAttribute("disabled",!0)}),Array.prototype.forEach.call(i,function(t){t.classList.add("t806__answer-vote_show")}),p.forEach(function(t,e){var r=p.sort(),o=_.sort();Number(r[e])===Number(o[e])&&r.length===o.length?w.push(1):w.push(0)});n=w.every(function(t){return 1==t});_.forEach(function(t){t=o.querySelector('.t806__input[value="'+Number(t)+'"]');t&&t.closest(".t806__answer").classList.add("t806__answer_correct")}),p.forEach(function(t){var e;-1===_.indexOf(t)&&(e=o.querySelector('.t806__input[value="'+Number(t)+'"]').parentNode.nextElementSibling,o.querySelector('.t806__input[value="'+Number(t)+'"]:checked').closest(".t806__answer").classList.add("t806__answer_wrong"),e.style.display="block")});i=o.querySelectorAll(".t806__input:checked");Array.prototype.forEach.call(i,function(t){var e=t.closest(".t806__answer_correct"),t=t.parentNode.nextElementSibling;e&&e.classList.add("t806__answer_withoutopacity"),t.style.display="block"}),n&&(c++,r.setAttribute("data-count",c)),w=[],this.classList.remove("t806__btn_show"),(o.classList.contains("t806__lastquestion")?a:s).classList.add("t806__btn_show"),l.classList.add("t806__answers_answered"),t806_fixcontentheight(d),t806__runLazyLoad(),t806__changeTestInput(d),t.preventDefault()})})}function t806__clickNextButton(o){var n,l=document.querySelector("#rec"+o),t=l.querySelectorAll(".t806__btn_next");Array.prototype.forEach.call(t,function(t){t.addEventListener("click",function(t){var e=this.closest(".t806__question"),r=e.nextElementSibling;n=r.getAttribute("data-question-num"),e.style.display="none",r.style.display="block",t806__showNumber(o,n),t806_fixcontentheight(o),t806_scrollToTop(l),t806__runLazyLoad(),t.preventDefault()})})}function t806__clickResultButton(e){var r=document.querySelector("#rec"+e),t=r.querySelectorAll(".t806__btn_result");Array.prototype.forEach.call(t,function(t){t.addEventListener("click",function(t){this.closest(".t806__question").style.display="none",t806_scrollToTop(r),t806__showResult(e),t806_fixcontentheight(e),t806__runLazyLoad(),t.preventDefault()})})}function t806__showResult(t){var e=document.querySelector("#rec"+t),n=e.querySelector(".t806"),r=e.querySelectorAll(".t806__result"),l=e.querySelector(".t806__start-img img"),o=e.querySelector(".t806__counter"),c=e.querySelectorAll(".t806__question"),a=r.length,s=o.getAttribute("data-count"),t=0!=s?s/c.length*100:0;n.classList.contains("t806__result-new-calc")&&Math.floor(t)!==t&&(t=t.toFixed(3));o=e.querySelectorAll(".t806__result-count");Array.prototype.forEach.call(o,function(t){t.textContent=s+"/"+c.length}),t806__openResultWrapper(n,t,e,a);var i=[];return Array.prototype.forEach.call(r,function(t){var e,r,o;"block"==getComputedStyle(t).display&&(e=t.querySelector(".t806__result-wrap img"),r=t.querySelector(".t806__result-variant"),o=t.querySelector(".t806__result-count"),i[0]=r.textContent,i[1]=o.textContent,i[2]="",n.classList.contains("t806__test-reload")&&(e&&(void 0!==window.lazy?i[2]=e.getAttribute("data-original")||e.getAttribute("src"):i[2]=e.getAttribute("src")),e&&0==e.length&&0!=l.length&&(void 0!==window.lazy?i[2]=l.getAttribute("data-original")||e.getAttribute("src"):i[2]=l.getAttribute("src"))),n.classList.contains("t806__test-reload")||(e&&0!==e.length&&(i[2]=e.getAttribute("src")),e&&0===e.length&&0!=l.length&&(i[2]=l.getAttribute("src"))),i[3]=t.getAttribute("data-quiz-result-number"))}),i}function t806__openResultWrapper(t,e,r,o){if(t.classList.contains("t806__result-new-calc")){var n=r.querySelector(".t806__result_1"),l=r.querySelector(".t806__result_"+o);if(e<=100/o)n&&(n.style.display="block");else{for(var c=0;c<o;c++){var a=100*(c+1)/o,s=100*(c+2)/o,a=Math.floor(a)==a?a:a.toFixed(3),s=Math.floor(s)==s?s:s.toFixed(3);if(a<=e&&e<=s)return void(r.querySelector(".t806__result_"+(c+2)).style.display="block")}100*(o-1)/o<e&&(l.style.display="block")}}else{e<=100/o&&n&&(n.style.display="block");for(c=0;c<o;c++)100*(c+1)/o<e&&e<=100*(c+2)/o&&(r.find(".t806__result_"+(c+2)).style.display="block");100*(o-1)/o<e&&l&&(l.style.display="block")}}function t806__clickRestartButton(r){var o=document.querySelector("#rec"+r),n=o.querySelector(".t806"),t=o.querySelectorAll(".t806__btn_restart"),l=o.querySelectorAll(".t806__question");Array.prototype.forEach.call(t,function(t){t.addEventListener("click",function(t){o.querySelector(".t806__start").style.display="block";var e=o.querySelectorAll(".t806__result");Array.prototype.forEach.call(e,function(t){t.style.display="none"});e=o.querySelectorAll(".t806__btn_next");Array.prototype.forEach.call(e,function(t){t.classList.remove("t806__btn_show")});e=o.querySelectorAll(".t806__btn_result");Array.prototype.forEach.call(e,function(t){t.classList.remove("t806__btn_show")});e=o.querySelectorAll(".t806__btn_check");Array.prototype.forEach.call(e,function(t){t.classList.remove("t806__btn_show")});e=o.querySelectorAll(".t806__details");Array.prototype.forEach.call(e,function(t){t.style.display="none"});e=o.querySelectorAll(".t806__answers");Array.prototype.forEach.call(e,function(t){t.classList.remove("t806__answers_answered"),t.setAttribute("data-test-checked","")});e=o.querySelectorAll(".t806__answer");Array.prototype.forEach.call(e,function(t){t.classList.remove("t806__answer_correct"),t.classList.remove("t806__answer_wrong")});e=o.querySelectorAll(".t806__input");Array.prototype.forEach.call(e,function(t){t.closest(".t806__answer").classList.remove("t806__answer_withoutopacity"),t.checked=!1,t.removeAttribute("disabled")});e=o.querySelectorAll(".t806__answer .t-vote__btn-res");Array.prototype.forEach.call(e,function(t){t.classList.remove("t806__answer-vote_show")}),o.querySelector(".t806__counter").setAttribute("data-count",0);e=o.querySelectorAll(".t806__number");Array.prototype.forEach.call(e,function(t){t.textContent="1/"+l.length}),t806_fixcontentheight(r),n.classList.contains("t806__test-reload")&&document.location.reload(!0),t.preventDefault()})})}function t806_scrollToTop(t){t=t.getBoundingClientRect().top+window.pageYOffset;window.scrollTo(0,t)}function t806__clearFormOnBackClick(e){window.addEventListener("pagehide",function(){var t=e.querySelectorAll(".t806__input");Array.prototype.forEach.call(t,function(t){t.checked=!1})})}function t806_fixcontentheight(t){var e,r,o,n,l=document.querySelector("#rec"+t),c=l.querySelector(".t-cover");c&&(e=l.querySelector(".t-cover__filter"),r=l.querySelector(".t-cover__carrier"),o=l.querySelector(".t-cover__wrapper"),(t=l.querySelector("div[data-hook-content]"))&&(l=parseFloat(getComputedStyle(c,null).height.replace("px","")),300<(n=t.offsetHeight)&&l<n&&(1e3<(n+=120)&&(n+=100),c.style.height=n+"px",e.style.height=n+"px",r.style.height=n+"px",o.style.height=n+"px",0==window.isMobile&&setTimeout(function(){var t=r;0<t.querySelector("iframe").length&&setWidthHeightYoutubeVideo(t,n+"px")},2e3))))}function t806_changeShareFBUrl(t,e){var r=t.split("?")[0]+"?";return decodeURIComponent(e.substring(1)).split("&").forEach(function(t){-1==t.indexOf("fb_action_ids")&&-1==t.indexOf("fb_action_types")&&-1==t.indexOf("result")&&(r=r+t+"&")}),r=r.substring(0,r.length-1)}function t806_shareVK(t,e,r){var o=t806__showResult(t),n=o[0],l=o[1],c=0==(o[2]||"").indexOf("/")?"":"/",a=1<window.location.pathname.length?window.location.pathname:"",c=-1!=(o[2]||"").indexOf("://")?o[2]:window.location.protocol+"//"+window.location.host+a+c+o[2],t=t+o[3]+"vk",n="https://vote.tildacdn.com/vote/2/share/index.php?text="+n;n+="&result="+l,0<(o[2]||"").length&&(n+="&url="+c),n+="&id="+t,n+="&social=vk&name="+e;var s=Date.now(),i=new XMLHttpRequest;i.open("GET",n,!0),i.onload=function(){var t;200<=this.status&&this.status<400&&(t=(JSON.parse(i.response).url||"").replace(/\?.*/,""),t806__openPopup("http://vkontakte.ru/share.php?url="+(-1!=window.location.href.indexOf("#")?r.split("#")[0]:r)+"&title="+e+"&description="+e+"&image="+t+"&noparse=true"))},i.onerror=function(){var t=i.response,e=Date.now()-s;0==t.status&&e<100&&0!==t.readyState&&alert("Request error (get posts). Please check internet connection...")},i.send()}function t806_shareFB(t,e,r){var o=t806__showResult(t),n=o[0],l=o[1],c=0==(o[2]||"").indexOf("/")?"":"/",a=1<window.location.pathname.length?window.location.pathname:"",c=-1!=(o[2]||"").indexOf("://")?o[2]:window.location.protocol+"//"+window.location.host+a+c+o[2],t=t+o[3]+"fb",s=l.substring(0,l.indexOf("/"))+l.substring(l.indexOf("/")+1),n="https://vote.tildacdn.com/vote/2/share/index.php?text="+n;n+="&result="+l,0<(o[2]||"").length&&(n+="&url="+c),n+="&id="+t,n+="&social=fb&name="+e;var i=Date.now(),_=new XMLHttpRequest;_.open("GET",n,!0),_.onload=function(){var t;200<=this.status&&this.status<400&&(t=window.location.search,r=(""!==t?t806_changeShareFBUrl(r,t):r)+"?result="+s,FB.ui({method:"share_open_graph",action_type:"og.shares",action_properties:JSON.stringify({object:{"og:url":r}})}))},_.onerror=function(){var t=_.response,e=Date.now()-i;0==t.status&&e<100&&0!==t.readyState&&alert("Request error (get posts). Please check internet connection...")},_.send()}function t806_shareTwitter(t,e){var r=document.querySelector("#rec"+t).querySelector(".t806"),o=t806__showResult(t),n=o[0],t=o[1],o=t.substring(0,t.indexOf("/")),t=t.substring(t.indexOf("/")+1);r.classList.contains("t806__ru")&&(l="Мой результат: "+o+" из "+t+". "+n),r.classList.contains("t806__en")&&(l="My result: "+o+" out of "+t+". "+n);var l="https://twitter.com/share?url="+(e=e.replace(/&/g,"%26"))+"&text="+l;t806__openPopup(l=encodeURI(l))}function t806__openPopup(t){window.open(t,"","toolbar=0,status=0,width=626,height=436")}Element.prototype.matches||(Element.prototype.matches=Element.prototype.matchesSelector||Element.prototype.msMatchesSelector||Element.prototype.mozMatchesSelector||Element.prototype.webkitMatchesSelector||Element.prototype.oMatchesSelector),Element.prototype.closest||(Element.prototype.closest=function(t){for(var e=this;e&&1===e.nodeType;){if(Element.prototype.matches.call(e,t))return e;e=e.parentElement||e.parentNode}return null});
